(function(o,e,l,c,d,u,t,p){"use strict";const{FormRow:g}=l.Forms,h=c.findByName("Icon")??c.findByProps("Sizes","compare"),v=c.findByProps("openLazy","hideActionSheet"),{openURL:f}=c.findByProps("openURL","openDeeplink"),y=e.React.createElement(h,{source:u.getAssetIDByName("search")}),s={saucenao:{name:"SauceNAO",url:"https://saucenao.com/search.php?url=%s",default:!0},tracemoe:{name:"trace.moe",url:"https://trace.moe/?url=%s",default:!0},iqdb:{name:"IQDB",url:"https://iqdb.org/?url=%s"},imgops:{name:"ImgOps",url:"https://imgops.com/%s"},tineye:{name:"TinEye",url:"https://tineye.com/search?url=%s"},google:{name:"Google Images",url:"https://www.google.com/searchbyimage?image_url=%s&safe=off&sbisrc=cr_1_5_2"},yandex:{name:"Yandex Images",url:"https://yandex.com/images/search?rpt=imageview&url=%s"}},R=()=>{t.storage.services??={};for(const[a,r]of Object.entries(s))t.storage.services[a]??=r.default??!1},b=d.before("openLazy",v,([a,r])=>{r==="MediaShareActionSheet"&&a.then(F=>{const L=d.after("default",F,([{syncer:m}],A)=>{e.React.useEffect(()=>void L(),[]);let n=m.sources[m.index.value];Array.isArray(n)&&(n=n[0]);const B=n.sourceURI??n.uri;A.props.children.props.children.push(...Object.keys(s).filter(i=>t.storage.services[i]).map(i=>e.React.createElement(g,{leading:y,label:s[i].name,onPress:()=>f(s[i].url.replace("%s",B))})))})})}),{FormSection:I,FormDivider:S,FormRadioRow:w}=l.Forms,E=()=>(p.useProxy(t.storage),e.React.createElement(e.ReactNative.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},e.React.createElement(I,{title:"Services"},e.React.createElement(e.ReactNative.FlatList,{data:Object.entries(t.storage.services),ItemSeparatorComponent:S,renderItem:({item:[a,r]})=>e.React.createElement(w,{label:s[a].name,selected:r,onPress:()=>void(t.storage.services[a]=!t.storage.services[a])})}))));return o.onLoad=R,o.onUnload=b,o.settings=E,o})({},vendetta.metro.common,vendetta.ui.components,vendetta.metro,vendetta.patcher,vendetta.ui.assets,vendetta.plugin,vendetta.storage);
