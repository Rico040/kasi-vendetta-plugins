(function(l,a,d,p){"use strict";const{Pressable:s}=a.findByProps("Button","Text","View"),f=a.findByName("ProfileBanner",!1),g=a.findByName("HeaderAvatar",!1),v=a.findByName("GuildIcon"),{openMediaModal:h}=a.findByName("MediaModal",!1),{hideActionSheet:y}=a.findByProps("hideActionSheet"),{getChannelId:m}=a.findByStoreName("SelectedChannelStore"),{getGuildId:B}=a.findByStoreName("SelectedGuildStore");function r(e,t){p.ReactNative.Image.getSize(e,(n,i)=>{y(),h({initialSources:[{uri:e,sourceURI:e,width:n,height:i,guildId:B(),channelId:m()}],initialIndex:0,originLayout:{width:0,height:0,x:t.pageX,y:t.pageY,resizeMode:"fill"}})})}const I=d.after("default",g,([{user:e,style:t,guildId:n}],i)=>{const u=e.guildMemberAvatars?.[n]&&`https://cdn.discordapp.com/guilds/${n}/users/${e.id}/avatars/${e.guildMemberAvatars[n]}.png`,o=e?.getAvatarURL?.(!1,4096,!0);if(!o)return i;const A=typeof o=="number"?`https://cdn.discordapp.com/embed/avatars/${Number(BigInt(e.id)>>22n)%6}.png`:o?.replace(".webp",".png");return delete i.props.style,React.createElement(s,{onPress:({nativeEvent:c})=>r(A,c),onLongPress:({nativeEvent:c})=>u&&r(u,c),style:t},i)}),S=d.after("default",f,([{bannerSource:e}],t)=>{if(typeof e?.uri!="string"||!t)return t;const n=e.uri.replace(/(?:\?size=\d{3,4})?$/,"?size=4096").replace(".webp",".png");return React.createElement(s,{onPress:({nativeEvent:i})=>r(n,i)},t)}),b=d.after("render",v.prototype,function(e,t){if(this.props?.size!=="XLARGE")return;const n=this.props?.guild?.getIconURL?.(4096);return n?React.createElement(s,{onPress:({nativeEvent:i})=>r(n,i)},t):t});function P(){I(),S(),b()}return l.onUnload=P,l})({},vendetta.metro,vendetta.patcher,vendetta.metro.common);
